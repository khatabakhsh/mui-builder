{"code":"import { __rest } from \"tslib\";\nimport { useController, useWatch } from 'react-hook-form';\nimport useQueryBuilder from '@mui-builder/utils/useQueryBuilder/useQueryBuilder';\nimport UseScript from '@mui-builder/utils/useScript/useScript';\nimport axios from 'axios';\nimport useForms from '../../../hooks/useForms/useForms';\nimport usePropsController from '../../../hooks/usePropsController/usePropsController';\nimport useRule from '../../../hooks/useRule/useRule';\nconst UseText = (props) => {\n    const { formId, script, api, show = true, dependesies, helperText, defaultValue } = props, textFieldProps = __rest(props, [\"formId\", \"script\", \"api\", \"show\", \"dependesies\", \"helperText\", \"defaultValue\"]);\n    const { configs, queries } = api || {};\n    const { forms } = useForms();\n    const formMethod = forms === null || forms === void 0 ? void 0 : forms[formId];\n    const { setProps, propsController } = usePropsController();\n    const newProps = (propsController === null || propsController === void 0 ? void 0 : propsController[textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.id]) || {};\n    // Handle Script\n    const { scriptResult } = UseScript({\n        script,\n        formMethod,\n        forms,\n        formId,\n        setProps,\n    });\n    // Handle Wtach Fields\n    useWatch({\n        control: formMethod.control,\n        name: dependesies !== null && dependesies !== void 0 ? dependesies : [],\n    });\n    // API Call\n    useQueryBuilder({\n        apiInstance: axios,\n        apiConfigs: configs !== null && configs !== void 0 ? configs : {},\n        apiQuery: queries !== null && queries !== void 0 ? queries : {},\n        formMethod,\n        formId,\n        forms,\n    });\n    // Controller\n    const { field, formState: { errors }, } = useController({\n        name: textFieldProps.id,\n        control: formMethod.control,\n        disabled: textFieldProps.disabled,\n        rules: useRule(textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.rule),\n        defaultValue,\n    });\n    const error = errors === null || errors === void 0 ? void 0 : errors[textFieldProps.id];\n    // Props\n    const getFieldProps = () => {\n        var _a, _b;\n        return (Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, field), textFieldProps), { helperText: (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : helperText, error: !!error, value: (_b = field.value) !== null && _b !== void 0 ? _b : '' }), scriptResult), newProps));\n    };\n    return { getFieldProps, show };\n};\nexport default UseText;\n//# sourceMappingURL=useText.js.map","references":["/home/mrbadri/code/startup/mui-builder/node_modules/react-hook-form/dist/index.d.ts","/home/mrbadri/code/startup/mui-builder/packages/core/src/utils/useQueryBuilder/useQueryBuilder.ts","/home/mrbadri/code/startup/mui-builder/packages/core/src/utils/useScript/useScript.ts","/home/mrbadri/code/startup/mui-builder/node_modules/axios/index.d.ts","/home/mrbadri/code/startup/mui-builder/packages/core/src/modules/form/src/components/fields/text/text.types.ts","/home/mrbadri/code/startup/mui-builder/packages/core/src/modules/form/src/hooks/useForms/useForms.ts","/home/mrbadri/code/startup/mui-builder/packages/core/src/modules/form/src/hooks/usePropsController/usePropsController.ts","/home/mrbadri/code/startup/mui-builder/packages/core/src/modules/form/src/hooks/useRule/useRule.ts"],"map":"{\"version\":3,\"file\":\"useText.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../../../packages/core/src/modules/form/src/components/fields/text/useText.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;AAE1D,OAAO,eAAe,MAAM,oDAAoD,CAAC;AACjF,OAAO,SAAS,MAAM,wCAAwC,CAAC;AAE/D,OAAO,KAAK,MAAM,OAAO,CAAC;AAI1B,OAAO,QAAQ,MAAM,kCAAkC,CAAC;AACxD,OAAO,kBAAkB,MAAM,sDAAsD,CAAC;AACtF,OAAO,OAAO,MAAM,gCAAgC,CAAC;AAErD,MAAM,OAAO,GAAG,CAAC,KAAgB,EAAE,EAAE;IACnC,MAAM,EACJ,MAAM,EACN,MAAM,EACN,GAAG,EACH,IAAI,GAAG,IAAI,EACX,WAAW,EACX,UAAU,EACV,YAAY,KAEV,KAAK,EADJ,cAAc,UACf,KAAK,EATH,gFASL,CAAQ,CAAC;IACV,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,EAAE,CAAC;IAEvC,MAAM,EAAE,KAAK,EAAE,GAAG,QAAQ,EAAE,CAAC;IAC7B,MAAM,UAAU,GAAG,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAG,MAAM,CAAC,CAAC;IACnC,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG,kBAAkB,EAAE,CAAC;IAE3D,MAAM,QAAQ,GAAG,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAG,cAAc,aAAd,cAAc,uBAAd,cAAc,CAAE,EAAE,CAAC,KAAI,EAAE,CAAC;IAE7D,gBAAgB;IAChB,MAAM,EAAE,YAAY,EAAE,GAAG,SAAS,CAAC;QACjC,MAAM;QACN,UAAU;QACV,KAAK;QACL,MAAM;QACN,QAAQ;KACT,CAAC,CAAC;IAEH,sBAAsB;IACtB,QAAQ,CAAC;QACP,OAAO,EAAE,UAAU,CAAC,OAAO;QAC3B,IAAI,EAAE,WAAW,aAAX,WAAW,cAAX,WAAW,GAAI,EAAE;KACxB,CAAC,CAAC;IAEH,WAAW;IACX,eAAe,CAAC;QACd,WAAW,EAAE,KAAK;QAClB,UAAU,EAAE,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI,EAAE;QACzB,QAAQ,EAAE,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI,EAAE;QACvB,UAAU;QACV,MAAM;QACN,KAAK;KACN,CAAC,CAAC;IAEH,aAAa;IACb,MAAM,EACJ,KAAK,EACL,SAAS,EAAE,EAAE,MAAM,EAAE,GACtB,GAAG,aAAa,CAAC;QAChB,IAAI,EAAE,cAAc,CAAC,EAAE;QACvB,OAAO,EAAE,UAAU,CAAC,OAAO;QAC3B,QAAQ,EAAE,cAAc,CAAC,QAAQ;QACjC,KAAK,EAAE,OAAO,CAAC,cAAc,aAAd,cAAc,uBAAd,cAAc,CAAE,IAAI,CAAC;QACpC,YAAY;KACb,CAAC,CAAC;IAEH,MAAM,KAAK,GAAG,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAG,cAAc,CAAC,EAAE,CAAC,CAAC;IAE1C,QAAQ;IACR,MAAM,aAAa,GAAG,GAAG,EAAE;;QAAC,OAAA,2EACvB,KAAK,GACL,cAAc,KACjB,UAAU,EAAE,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,mCAAI,UAAU,EACxC,KAAK,EAAE,CAAC,CAAC,KAAK,EACd,KAAK,EAAE,MAAA,KAAK,CAAC,KAAK,mCAAI,EAAE,KACrB,YAAY,GACZ,QAAQ,EACX,CAAA;KAAA,CAAC;IAEH,OAAO,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC;AACjC,CAAC,CAAC;AAEF,eAAe,OAAO,CAAC\"}","dts":{"name":"undefined/placeholder/src/modules/form/src/components/fields/text/useText.d.ts","writeByteOrderMark":false,"text":"import { TextProps } from './text.types';\ndeclare const UseText: (props: TextProps) => {\n    getFieldProps: () => any;\n    show: boolean;\n};\nexport default UseText;\n"}}
